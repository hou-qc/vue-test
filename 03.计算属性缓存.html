<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!--
    1. 计算属性
  在computed属性对象中定义计算属性的方法
  在页面中使用{{方法名}}来显示计算的结果
    2. 监视属性:
  通过通过vm对象的$watch()或watch配置来监视指定的属性
  当属性变化时, 回调函数自动调用, 在函数内部进行计算
    3. 计算属性高级:
  通过getter/setter实现对属性数据的显示和监视
  计算属性存在缓存, 多次读取只执行一次getter计算
    {
      fullName1: 'A-B',
      fullName3: 'C-D'
    }

    ['A-B', 'C-D']
-->

    <div id="app">
        姓：<input type="text" placeholder="First Name" v-model="firstName"> <br>
        名：<input type="text" placeholder="Last Name" v-model="lastName"> <br>
        姓名1（单向）：<input type="text" placeholder="Full Name1" v-model="fullName1"><br>
        姓名2（单向）：<input type="text" placeholder="Full Name2" v-model="fullName2"><br>
        姓名3（双向）：<input type="text" placeholder="Full Name3" v-model="fullName3"><br>



        <p>{{fullName1}}</p>
        <p>{{fullName1}}</p>
        <p>{{fullName1}}</p>
        <p>{{fullName1}}</p>

        <p>{{fullName3}}</p>
        <p>{{fullName3}}</p>
        <p>{{fullName3}}</p>
        <p>{{fullName3}}</p>
        <p>{{fullName3}}</p>
        <p>{{fullName3}}</p>

    </div>
    <script src="./vue.js"></script>
    <script>
        Vue.config.productionTip = false; //全局设置，阻止 vue 在启动时生成生产提示。
        let vm = new Vue({
            el: '#app',
            data: {
                firstName: 'A',
                lastName: 'B',
                fullName2: 'A-B'
            },
            /*
            什么时候执行？
            1、初始显示 执行一次
            2、依赖数据发生变化
            */
            computed: { //计算属性
                fullName1() {
                    console.log(this); //this指向vue的实例对象 vm 
                    return this.firstName + '-' + this.lastName
                },
                fullName3: {
                    get() {
                        return this.firstName + '-' + this.lastName
                    },
                    //当给fullName3指定新的属性时自动调用
                    set(value) {
                        //更新firstName和lastName
                        const names = value.split('-');
                        this.firstName = names[0];
                        this.lastName = names[1]
                    }
                }
            },
            watch: {
                firstName(value) { //nawValue新的数值 oldValue旧的数值
                    // 更新fullName2
                    console.log(value);
                    this.fullName2 = value + '-' + this.lastName
                }
            },
        })
        // 监视lastNmae
        vm.$watch('lastName', function (value) {
            this.fullName2 = this.firstName + '-' + value
        })

        /*
1、vue控制的所有回调this都指向vm/组件对象
2、vue给vm定义了一些与data中属性对应的属性
    同名
    getter方法：当通过vm.xxx读取属性值时，读取data对象中同名属性的值
    setter方法：当通过vm.xxx = value指定新的值时，值就保存data中对应的属性上
数据代理 vm._data.xxx ==> vm.xxx   通过vm代理对vm内部的data对象属性的操作(读/写)
3、什么时候使用计算属性？
如果要显示的数据可以根据现有数据计算产生
*/
    </script>
</body>

</html>